

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>File Inputs and Outputs (I/O) &#8212; Introduction to Python</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'files/file-io';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Using the file system" href="using_the_filesystem.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Introduction to Python
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installing Python and Jupyter</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python Basics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../python_basics/getting-familiar.html">Getting Familiar with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_basics/sequence-data.html">Sequential Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_basics/strings.html">Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_basics/dictionaries.html">Dictionaries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_basics/if-statements.html">If Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_basics/loops.html">Loops</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Code Organization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../code_organization/functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../code_organization/modules.html">Modules</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Files</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="using_the_filesystem.html">Using the file system</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">File Inputs and Outputs (I/O)</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Ffiles/file-io.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/files/file-io.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>File Inputs and Outputs (I/O)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-text-files">Reading and Writing Text Files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-text-files">Reading Text Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-text-files">Writing Text Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mini-exercise">🤔 Mini-Exercise</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-binary-data">Working with binary data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-integer-data-to-binary">Writing integer data to binary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-integer-data-from-a-binary-file">Reading integer data from a binary file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-float-data-to-a-binary-file">Writing float data to a binary file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-float-data-from-a-binary-file">Reading float data from a binary file</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">🤔 Mini-Exercise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pickling-files">Pickling Files</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="file-inputs-and-outputs-i-o">
<h1>File Inputs and Outputs (I/O)<a class="headerlink" href="#file-inputs-and-outputs-i-o" title="Permalink to this headline">#</a></h1>
<p>Learning Objectives: By the end of this notebook, you should be able to:</p>
<ol class="arabic simple">
<li><p>Read data from a text file and write data to a text file</p></li>
<li><p>Access numerical data inside of a binary-encoded file</p></li>
<li><p>Describe how data is written to and accessed from “pickle” files</p></li>
</ol>
<p><strong>Import modules required for this notebook</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import the struct and pickle modules</span>
<span class="kn">import</span> <span class="nn">struct</span>
<span class="kn">import</span> <span class="nn">pickle</span>
</pre></div>
</div>
</div>
</div>
<section id="reading-and-writing-text-files">
<h2>Reading and Writing Text Files<a class="headerlink" href="#reading-and-writing-text-files" title="Permalink to this headline">#</a></h2>
<p>Reading and writing data from a text file are both done with the built-in <code class="docutils literal notranslate"><span class="pre">open</span></code> method.</p>
<section id="reading-text-files">
<h3>Reading Text Files<a class="headerlink" href="#reading-text-files" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">open</span></code> method takes in a path to a file and an optional argument describing how the file will be opened. By default, the <code class="docutils literal notranslate"><span class="pre">open</span></code> method will open files in reading mode (<code class="docutils literal notranslate"><span class="pre">mode='r'</span></code>). Try this on some [buoy data](<a class="github reference external" href="https://github.com/ProfMikeWood/intro_to_python_book/blob/main/files/Monterey">ProfMikeWood/intro_to_python_book</a> Bay Buoy Data.txt) obtained from the <a class="reference external" href="https://www.ndbc.noaa.gov/station_page.php?station=46269">National Buoy Data Center</a> for a site in Monterey Bay:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># open the buoy data file</span>
<span class="n">file_object</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;Monterey Bay Buoy Data.txt&#39;</span><span class="p">)</span>

<span class="c1"># read all of the lines of the file</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">file_object</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># close the file</span>
<span class="n">file_object</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># see how long the file is (how many characters are in the file)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File Length:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>

<span class="c1"># split the lines by the new line character to</span>
<span class="c1"># see how many lines there are</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of Lines:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>

<span class="c1"># print the first five lines</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First Five Lines:&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>File Length: 1341408
Number of Lines: 15073
First Five Lines:
#YY  MM DD hh mm WDIR WSPD GST  WVHT   DPD   APD MWD   PRES  ATMP  WTMP  DEWP  VIS  TIDE
#yr  mo dy hr mn degT m/s  m/s     m   sec   sec degT   hPa  degC  degC  degC   mi    ft
2022 01 01 00 00 999 99.0 99.0  1.32  7.41  5.74 263 9999.0  11.9  12.0 999.0 99.0 99.00
2022 01 01 00 30 999 99.0 99.0  1.28  8.00  5.80 261 9999.0  11.6  12.0 999.0 99.0 99.00
2022 01 01 01 00 999 99.0 99.0  1.26  8.33  5.88 258 9999.0  11.2  12.0 999.0 99.0 99.00
</pre></div>
</div>
</div>
</div>
<p>As can be seen above, the <code class="docutils literal notranslate"><span class="pre">file_object</span></code> must be opened, read, and then closed when finished. When a file is open, it is stored in memory so it is generally not recommended to have many files opened at the same time. Instead, the <code class="docutils literal notranslate"><span class="pre">with</span></code> keyword allows us to bundle the <code class="docutils literal notranslate"><span class="pre">open</span></code> and <code class="docutils literal notranslate"><span class="pre">close</span></code> methods together, running a subset of commands on the file while it is open. In other words:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># open the buoy data file using the with keyword</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;Monterey Bay Buoy Data.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">file_object</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="c1"># the &#39;with&#39; block automatically closes the file</span>

<span class="c1"># see how long the file is (how many characters are in the file)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;File Length:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>

<span class="c1"># split the lines by the new line character to</span>
<span class="c1"># see how many lines there are</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of Lines:&#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>

<span class="c1"># print the first five lines</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First Five Lines:&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>File Length: 1341408
Number of Lines: 15073
First Five Lines:
#YY  MM DD hh mm WDIR WSPD GST  WVHT   DPD   APD MWD   PRES  ATMP  WTMP  DEWP  VIS  TIDE
#yr  mo dy hr mn degT m/s  m/s     m   sec   sec degT   hPa  degC  degC  degC   mi    ft
2022 01 01 00 00 999 99.0 99.0  1.32  7.41  5.74 263 9999.0  11.9  12.0 999.0 99.0 99.00
2022 01 01 00 30 999 99.0 99.0  1.28  8.00  5.80 261 9999.0  11.6  12.0 999.0 99.0 99.00
2022 01 01 01 00 999 99.0 99.0  1.26  8.33  5.88 258 9999.0  11.2  12.0 999.0 99.0 99.00
</pre></div>
</div>
</div>
</div>
</section>
<section id="writing-text-files">
<h3>Writing Text Files<a class="headerlink" href="#writing-text-files" title="Permalink to this headline">#</a></h3>
<p>Writing text files is just as easy as reading them - just change the mode! For example, we may want to generate a quick readme note to include in our directory. We can do this as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define a string with a readme note</span>
<span class="n">note</span> <span class="o">=</span> <span class="s2">&quot;To write a text file, change the mode to &#39;w&#39; &quot;</span>

<span class="c1"># output your note as a readme file</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;readme.txt&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">note</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>When writing text to a text file, we can format our text and name our files in such a way that other programs can interpret the data. One of the clearest examples of this functionality is seen with data stored in a comma separated value format. These types of files can be read by Excel and many other programs. Let’s try this ourself:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a header line that has columns for</span>
<span class="c1"># year, month and day, separated by commas</span>
<span class="n">header</span> <span class="o">=</span> <span class="s1">&#39;year,month,day&#39;</span>

<span class="c1"># make two data lines with days of the year</span>
<span class="n">data_line_1</span> <span class="o">=</span> <span class="s1">&#39;2023,1,17&#39;</span>
<span class="n">data_line_2</span> <span class="o">=</span> <span class="s1">&#39;2023,4,8&#39;</span>

<span class="c1"># combine the header and the data lines,</span>
<span class="c1"># separated by a newline character</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">header</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">data_line_1</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">data_line_2</span>

<span class="c1"># write the output to a file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;year_data.csv&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_obj</span><span class="p">:</span>
    <span class="n">file_obj</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>

<span class="c1"># open the file in a spreadsheet program - what does it look like?</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="mini-exercise">
<h3>🤔 Mini-Exercise<a class="headerlink" href="#mini-exercise" title="Permalink to this headline">#</a></h3>
<p>Goal: Write a text file that describes the ocean conditions when the waves in Monterey Bay were biggest during the year 2022.</p>
<p>Read in the wave data and do a search through each line for the line with the biggest waves (<code class="docutils literal notranslate"><span class="pre">WVHT</span></code>, column 9 i.e. index 8). Then, write out a text file that includes the two header lines and the line with biggest wave. Store your lines with each component separated by commas a file called “Monterey Bay Biggest Wave 2022.csv”</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># open the buoy file and read the lines</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;Monterey Bay Buoy Data.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_object</span><span class="p">:</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">file_object</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># split the lines at the new line indicator</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">lines</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># store the first two lines in variables &quot;header&quot; and &quot;units&quot;</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">units</span> <span class="o">=</span> <span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># loop through the remainder of the lines and</span>
<span class="c1"># find the one with the biggest wave</span>
<span class="n">biggest_wave_value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">biggest_line</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">:]:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">8</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span><span class="o">&gt;</span><span class="n">biggest_wave_value</span><span class="p">:</span>
            <span class="n">biggest_wave_value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>
            <span class="n">biggest_line</span> <span class="o">=</span> <span class="n">line</span>

<span class="c1"># make an output string combining the lines</span>
<span class="c1"># for header, units, and the biggest wave day</span>
<span class="n">output_line</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">split</span><span class="p">())</span> <span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">+</span> \
              <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">units</span><span class="o">.</span><span class="n">split</span><span class="p">())</span> <span class="o">+</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">+</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">biggest_line</span><span class="p">)</span>

<span class="c1"># save as a csv with the file name Monterey Bay Biggest Waves 2022.csv</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;Monterey Bay Biggest Wave 2022.csv&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output_line</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="working-with-binary-data">
<h2>Working with binary data<a class="headerlink" href="#working-with-binary-data" title="Permalink to this headline">#</a></h2>
<p>In many older programs, data is often stored in binary files. While this practice is waning, its still a good idea to be able to read and write data in binary format.</p>
<section id="writing-integer-data-to-binary">
<h3>Writing integer data to binary<a class="headerlink" href="#writing-integer-data-to-binary" title="Permalink to this headline">#</a></h3>
<p>To write a list of integers in binary format, use the <code class="docutils literal notranslate"><span class="pre">bytearray</span></code> method to convert a list of numbers of bytes, and use the <code class="docutils literal notranslate"><span class="pre">wb</span></code> mode to write in binary:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># declare a list of integer values</span>
<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]</span>

<span class="c1"># convert the list to array</span>
<span class="n">barray</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>

<span class="c1"># open a file_object to write as a binary file</span>
<span class="n">file_obj</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;number_list.bin&quot;</span><span class="p">,</span><span class="s2">&quot;wb&quot;</span><span class="p">)</span>

<span class="c1"># write array into the file</span>
<span class="n">file_obj</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">barray</span><span class="p">)</span>

<span class="c1"># close the file</span>
<span class="n">file_obj</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="reading-integer-data-from-a-binary-file">
<h3>Reading integer data from a binary file<a class="headerlink" href="#reading-integer-data-from-a-binary-file" title="Permalink to this headline">#</a></h3>
<p>When reading from a binary file, be sure to use the ‘rb’ mode</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># open the binary file for reading using a with block</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;number_list.bin&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_obj</span><span class="p">:</span>

    <span class="c1"># read in the line from tjhe file</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">file_obj</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="c1"># print the lines</span>
<span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>

<span class="c1"># the list command will return back the list,</span>
<span class="c1"># converting from a binary array</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">lines</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>b&#39;\n\x14\x1e(2&lt;&#39;
[10, 20, 30, 40, 50, 60]
</pre></div>
</div>
</div>
</div>
</section>
<section id="writing-float-data-to-a-binary-file">
<h3>Writing float data to a binary file<a class="headerlink" href="#writing-float-data-to-a-binary-file" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">struct</span></code> module provides a mechanism by which various types of data can be encoded in binary and packed into a file. It’s very uncommon to write out data in this format in Python, but it’s common to receive binary-encoded files from other programs. Here, we’ll write a binary file with float values and then examine how we can read back the data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make up a list of 4 float values for testing</span>
<span class="n">grid</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">,</span> <span class="mf">4.4</span><span class="p">]</span>

<span class="c1"># define the format for output - either f or d (for float or double)</span>
<span class="n">record_format</span> <span class="o">=</span> <span class="s1">&#39;d&#39;</span>

<span class="c1"># define the output using the struct.pack method.</span>
<span class="c1"># the first character is the number of elements,</span>
<span class="c1"># the second is the format type</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="s1">&#39;4d&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">grid</span><span class="p">)</span>

<span class="c1"># write the binary data to a file called float.bin</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;float.bin&quot;</span><span class="p">,</span><span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As you can see, when packing data into the binary file, the format must be specified. For a full list of different format types, see the <a class="reference external" href="https://docs.python.org/3/library/struct.html">struct documentation page</a>.</p>
</section>
<section id="reading-float-data-from-a-binary-file">
<h3>Reading float data from a binary file<a class="headerlink" href="#reading-float-data-from-a-binary-file" title="Permalink to this headline">#</a></h3>
<p>Reading structured data from a binary file is similar to writing - you need to know the record format as well as the number of items in the file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the record format, identical to the code block above</span>
<span class="n">record_format</span> <span class="o">=</span> <span class="s1">&#39;d&#39;</span>

<span class="c1"># use the struct.calcsize method to determine</span>
<span class="c1"># the size of this format, in binary</span>
<span class="n">record_size</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">calcsize</span><span class="p">(</span><span class="n">record_format</span><span class="p">)</span>

<span class="c1"># make an empty list of values to keep track of during the file reading</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># open the float.bin file and read in the 4 values we wrote previously</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;float.bin&quot;</span><span class="p">,</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="c1"># loop through the 4 values, reading a portion of size record_size</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>

        <span class="c1"># store the binary value into a variable</span>
        <span class="n">binary_value</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">record_size</span><span class="p">)</span>

        <span class="c1"># use the struct.unpack method to convert</span>
        <span class="c1"># the binary representation to a float</span>
        <span class="c1"># then, add the value to the list</span>
        <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">record_format</span><span class="p">,</span><span class="n">binary_value</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># print out the values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.1, 2.2, 3.3, 4.4]
</pre></div>
</div>
</div>
</div>
<section id="id1">
<h4>🤔 Mini-Exercise<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h4>
<p>Goal: Read in data from a binary file given information about its contents</p>
<p>A scientist using an old and outdated coding language has passed you a data file. They mention to you that the file has two columns of double-precision data, and each column has 119 rows. Read the file contents into two lists. Then, print the first and last values from the each list (decoded from binary).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define the record format, identical to the code block above</span>
<span class="n">record_format</span> <span class="o">=</span> <span class="s1">&#39;d&#39;</span>

<span class="c1"># use the struct.calcsize method to determine</span>
<span class="c1"># the size of this format, in binary</span>
<span class="n">record_size</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">calcsize</span><span class="p">(</span><span class="n">record_format</span><span class="p">)</span>

<span class="c1"># make two lists to store the data</span>
<span class="n">column_1</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">column_2</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># open the data_file file and read in the values into the 2 lists</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data_file&quot;</span><span class="p">,</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    
    <span class="c1"># loop through the 119 rows,</span>
    <span class="c1"># reading two values from each row,</span>
    <span class="c1"># with each value of size record_size </span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">119</span><span class="p">):</span>

        <span class="c1"># read the first value, and store into a binary value</span>
        <span class="n">binary_value</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">record_size</span><span class="p">)</span>

        <span class="c1"># use the struct.unpack method to convert</span>
        <span class="c1"># the binary representation to a float</span>
        <span class="c1"># and add to the first list</span>
        <span class="n">column_1</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">record_format</span><span class="p">,</span><span class="n">binary_value</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

        <span class="c1"># read the second value, and store into a binary value</span>
        <span class="n">binary_value_2</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">record_size</span><span class="p">)</span>

        <span class="c1"># use the struct.unpack method to convert</span>
        <span class="c1"># the binary representation to a float</span>
        <span class="c1"># and add to the second list</span>
        <span class="n">column_2</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">struct</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="n">record_format</span><span class="p">,</span><span class="n">binary_value_2</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">column_1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">column_1</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">column_2</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">column_2</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1900.0 2018.0
0.0 0.056842864990234374
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="pickling-files">
<h2>Pickling Files<a class="headerlink" href="#pickling-files" title="Permalink to this headline">#</a></h2>
<p>Pickle files are an extremely flexible data storage type unique to Python. As the name suggests, you can treat a pickle file like a pickle jar - and it can hold <em>anything</em> (and if we’d like to continue the analogy, it preserves that data until the jar is opened). For example, you can create a dictionary and store it in a pickle file</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a dictionary for the days in a month</span>
<span class="n">date_dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Jan&#39;</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;Feb&#39;</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span> <span class="s1">&#39;Mar&#39;</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;Apr&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;Jun&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
             <span class="s1">&#39;Jul&#39;</span><span class="p">:</span><span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;Aug&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;Sep&#39;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;Oct&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span> <span class="s1">&#39;Nov&#39;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;Dec&#39;</span><span class="p">:</span> <span class="mi">31</span><span class="p">}</span>

<span class="c1"># store the dictionary in a pickle file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;date_dict.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_obj</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">date_dict</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Then, reading from the pickle file is similar to writing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># load the dictionary back in from the pickle file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;date_dict.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_obj</span><span class="p">:</span>
    <span class="n">dict_from_pickle</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file_obj</span><span class="p">)</span>

<span class="c1"># print the dictionary</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dict_from_pickle</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Jan&#39;: 31, &#39;Feb&#39;: 28, &#39;Mar&#39;: 31, &#39;Apr&#39;: 30, &#39;May&#39;: 31, &#39;Jun&#39;: 30, &#39;Jul&#39;: 31, &#39;Aug&#39;: 31, &#39;Sep&#39;: 30, &#39;Oct&#39;: 31, &#39;Nov&#39;: 30, &#39;Dec&#39;: 31}
</pre></div>
</div>
</div>
</div>
<p>However, if we can continue the analogy, pickles in your pickle jar do not need to just store cucumbers (err… dictionaries). In other words, you can put a mix of different types of objects in a single pickle file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># make a list of the years 2000 to 2020</span>
<span class="n">year</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">2021</span><span class="p">))</span>

<span class="c1"># make a string to describe the contents</span>
<span class="n">string</span> <span class="o">=</span> <span class="s1">&#39;This pickle file contains a list of years 2000-2020 &#39;</span><span class="o">+</span>\
         <span class="s1">&#39;and a dictionary for the number of days in each month&#39;</span>

<span class="c1"># write the string, year, and dict to the pickle file called date_data.pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;date_data.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_obj</span><span class="p">:</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">date_dict</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">)</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">)</span>
    <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">file_obj</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Then, you can read the objects back in the same order they’re created:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># load the objects back in from the pickle file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;date_data.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_obj</span><span class="p">:</span>
    <span class="n">obj_1</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file_obj</span><span class="p">)</span>
    <span class="n">obj_2</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file_obj</span><span class="p">)</span>
    <span class="n">obj_3</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file_obj</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">obj_1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">obj_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">obj_3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;Jan&#39;: 31, &#39;Feb&#39;: 28, &#39;Mar&#39;: 31, &#39;Apr&#39;: 30, &#39;May&#39;: 31, &#39;Jun&#39;: 30, &#39;Jul&#39;: 31, &#39;Aug&#39;: 31, &#39;Sep&#39;: 30, &#39;Oct&#39;: 31, &#39;Nov&#39;: 30, &#39;Dec&#39;: 31}
[2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020]
This pickle file contains a list of years 2000-2020 and a dictionary for the number of days in each month
</pre></div>
</div>
</div>
</div>
<p>Weird!</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "teaching"
        },
        kernelOptions: {
            name: "teaching",
            path: "./files"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'teaching'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="using_the_filesystem.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Using the file system</p>
      </div>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-and-writing-text-files">Reading and Writing Text Files</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-text-files">Reading Text Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-text-files">Writing Text Files</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mini-exercise">🤔 Mini-Exercise</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#working-with-binary-data">Working with binary data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-integer-data-to-binary">Writing integer data to binary</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-integer-data-from-a-binary-file">Reading integer data from a binary file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-float-data-to-a-binary-file">Writing float data to a binary file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading-float-data-from-a-binary-file">Reading float data from a binary file</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">🤔 Mini-Exercise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pickling-files">Pickling Files</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Mike Wood
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>